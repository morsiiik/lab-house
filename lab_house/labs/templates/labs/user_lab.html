{% extends 'labs/base.html' %}

{% block content %}
<h1><a href=/lab/{{ lab.lab.id }}>Lab number: {{lab.lab.id}}</a></h1>

<h2>Название: {{ lab.lab.title }}</h2>

<h2>Студент: {{ lab.user.username }}</h2>


{% if lab.url %}
<h2>Ментор: {{ lab.mentor.username }}</h2>
<h2><a href={{ lab.url }} target="_blank">Cсылка на гит</a></h2>

{% if request.user.is_staff and not lab.is_approved %}


<form action="{% url 'approve_lab' username=lab.user.username lab_number=lab.lab.id %}"
      method="POST">
    {% csrf_token %}




    <div class="custom-control custom-checkbox">
    <input type="checkbox" class="custom-control-input" name="check"
               value="{{ lab.is_approved }}"id="customCheck1" >
    <label class="custom-control-label" for="customCheck1">Approve lab</label>
    </div>

    <br>

    <input type="submit" class="w-40 btn btn-lg btn-primary" value="Принять работу">
</form>

{% endif %}

{% elif not request.user.is_staff %}
<form action="{% url 'send_lab' username=request.user.username lab_number=lab.lab.id %}"
      method="POST">
    {% csrf_token %}
    <input type="url" class="form-control" name="url" style="width: 500px;"
           placeholder="https://github.com/..../..../pull/1" value="{{ lab.url }}">
    <br>
    <input type="submit" class="w-40 btn btn-lg btn-primary" value="Отправить работу">
</form>


{% endif %}

<!--    <h2>Описание:</h2>-->
<!--    <p>{{ curr_lab.task }}</p>-->

<!--    <h2>Deadline:</h2>-->
<!--    <p>{{ curr_lab.deadline }}</p>-->

<!--    &lt;!&ndash; как-то так нужно встраивать README.md каждой лабы, но надо разобраться  &ndash;&gt;-->
<!--    <script src="https://gist.github.com/Jekins/2bf2d0638163f1294637.js"></script>-->

{% endblock content %}